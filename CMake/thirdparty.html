<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-CMake/thirdparty">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Thirdparty | My Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hasauino.github.io//notes/CMake/thirdparty"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Thirdparty | My Notes"><meta data-rh="true" name="description" content="There are several ways for using thirdparty libraries in a C++ (CMake) project. Here is some of the common ways people use."><meta data-rh="true" property="og:description" content="There are several ways for using thirdparty libraries in a C++ (CMake) project. Here is some of the common ways people use."><link data-rh="true" rel="icon" href="/notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hasauino.github.io//notes/CMake/thirdparty"><link data-rh="true" rel="alternate" href="https://hasauino.github.io//notes/CMake/thirdparty" hreflang="en"><link data-rh="true" rel="alternate" href="https://hasauino.github.io//notes/CMake/thirdparty" hreflang="x-default"><link rel="stylesheet" href="/notes/assets/css/styles.c0f4fcf5.css">
<link rel="preload" href="/notes/assets/js/runtime~main.3c308e58.js" as="script">
<link rel="preload" href="/notes/assets/js/main.7125f500.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes/"><div class="navbar__logo"><img src="/notes/img/logo.svg" alt="My Notes" class="themedImage_ToTc themedImage--light_HNdA"><img src="/notes/img/logo.svg" alt="My Notes" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes/">Notes</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes/">My Personal Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/C++/essential_operations">C++</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/notes/CMake/basics">CMake</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/CMake/basics">Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes/CMake/thirdparty">Thirdparty</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/Ubuntu/apt">Ubuntu</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/vscode/cpp">vscode</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CMake</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Thirdparty</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Thirdparty</h1><p>There are several ways for using thirdparty libraries in a C++ (CMake) project. Here is some of the common ways people use.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-header-only-libraries">1. Header-only libraries<a class="hash-link" href="#1-header-only-libraries" title="Direct link to heading">​</a></h2><p>These are easy to use. Just copy the header files and place them in your project next to your own header files.</p><p>This method is slow in development, as you have to compile the header library everytime, and the size of your targets becomes big. Suppose you have to executables that use the same header library, both of them will have a copy of the library (compiled), which is bad.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-by-installing-in-your-system">2. By Installing in your system<a class="hash-link" href="#2-by-installing-in-your-system" title="Direct link to heading">​</a></h2><p>Another way, is to <a href="/notes/CMake/basics#install--unisntall">install</a> the thirdparty package so it becomes available for the compiler, similar to the standard library for example (in system libraries). Then, in your <code>CMakeLists.txt</code> you use <a href="https://cmake.org/cmake/help/latest/command/find_package.html" target="_blank" rel="noopener noreferrer">find_package()</a> CMake function. <code>find_package()</code> will search in multiple places including your system libraries.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-opencv-in-ubuntu">Example: OpenCV in Ubuntu<a class="hash-link" href="#example-opencv-in-ubuntu" title="Direct link to heading">​</a></h4><p>One can install OpenCV library (it also come with executables/tools) using:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> libopencv-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Note</div><div class="admonitionContent_S0QG"><p>There is a convention to name libraries this way, i.e. <code>lib&lt;package name&gt;-dev</code></p></div></div><p>Then, your <code>CMakeLists.txt</code> file can be as follows:</p><div class="language-cmake codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cmake codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake_minimum_required(VERSION 2.8)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">project( Terimg )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># here we include OpenCV cmake file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find_package( OpenCV REQUIRED )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">include_directories( ${OpenCV_INCLUDE_DIRS} ${CMAKE_CURRENT_SOURCE_DIR}/include)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add_executable( terimg main.cpp converter.cpp)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target_link_libraries( terimg ${OpenCV_LIBS} )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above snippet, <code>OpenCV_INCLUDE_DIRS</code> and <code>OpenCV_LIBS</code> are defined by the CMake file that was included/executed when we add the <code>find_package(OpenCV REQUIRED)</code> line.</p><p>This method is bad as it will clutter your system libraries.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-using-cmake-file-of-other-packages">3. Using cmake file of other packages<a class="hash-link" href="#3-using-cmake-file-of-other-packages" title="Direct link to heading">​</a></h2><p>Another common way, is to add the cmake files of thirdparty packages to your project, and use <code>find_package()</code> to include them.</p><p>Example:</p><p>Check the following snippet from this <a href="https://github.com/udacity/CppND-Route-Planning-Project/blob/39460d05c2f28e1e5b83a1dfb2d8cddcfa20cb65/CMakeLists.txt" target="_blank" rel="noopener noreferrer">CMakeLists.txt</a> file:</p><div class="language-cmake codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cmake codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Add the path of the cmake files to the CMAKE_MODULE_PATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_SOURCE_DIR}/cmake)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This tells <code>CMake</code> to look for cmake files of thirdparty packages inside the local folder 📁 <code>cmake</code>. The full project can be found <a href="https://github.com/udacity/CppND-Route-Planning-Project/tree/39460d05c2f28e1e5b83a1dfb2d8cddcfa20cb65" target="_blank" rel="noopener noreferrer">here</a>. Notice the folder structure and the use of git submodules to include the source files of the thirdparty packages.</p><p>This method is nice, many thirdparty packages provide cmake files to be used, but some of them don&#x27;t.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-using-a-package-manager-conan">4. Using a Package Manager: Conan<a class="hash-link" href="#4-using-a-package-manager-conan" title="Direct link to heading">​</a></h2><p>Conan is a popular C++ package manager (can be abused to package many other things, Python, npm, etc..). Similar to other package managers, it consists of a remote server (called conan artifactory) hosting all Conan projects (thirdparty packages), and a client tool (conan CLI tool) that allows for fetching remote packages and compiling against them.</p><p>In your project, one needs to add an additional file call &quot;Conan recipe&quot;, which defines your dependencies (and much more configs and meta data about your package). Then, the <code>conan</code> CLI tool can be used generate CMake files which you can include in your project <code>CMakeLists.txt</code> file.</p><p>Check this <a href="https://github.com/hasauino/cpp_template" target="_blank" rel="noopener noreferrer">example project</a>  </p><p>This method is bay far the best. But Not all thirparty libraries are published as a Conan package. You also need to learn about <a href="https://docs.conan.io" target="_blank" rel="noopener noreferrer">Conan</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hasauino/notes/edit/master/docs/CMake/thirdparty.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes/CMake/basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Basics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes/Ubuntu/apt"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">APT</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-header-only-libraries" class="table-of-contents__link toc-highlight">1. Header-only libraries</a></li><li><a href="#2-by-installing-in-your-system" class="table-of-contents__link toc-highlight">2. By Installing in your system</a></li><li><a href="#3-using-cmake-file-of-other-packages" class="table-of-contents__link toc-highlight">3. Using cmake file of other packages</a></li><li><a href="#4-using-a-package-manager-conan" class="table-of-contents__link toc-highlight">4. Using a Package Manager: Conan</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/notes/assets/js/runtime~main.3c308e58.js"></script>
<script src="/notes/assets/js/main.7125f500.js"></script>
</body>
</html>